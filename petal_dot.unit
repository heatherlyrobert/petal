#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                petal.h                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (DOT) verify reversing point calculations                          0s   reverse         DOT_force_point                                                              ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG_unit_quiet                                                                                                                   i_equal     0                                                                                                    

   COND       set up testing environment                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     reset touch                          TOUCH_init                                                                                                                        i_equal     0                                                                                                    
     exec     call force                           TOUCH_force_tablet          0     , 0     , 32000 , 32000                                                                         i_equal     0                                                                                                    
     exec     call force                           TOUCH_force_screen          0     , 0     ,  1300 ,   800                                                                         i_equal     0                                                                                                    
     exec     call force                           TOUCH_force_window          400   , 250   ,   200 ,   200, YGLTEX_MIDCEN                                                          i_equal     0                                                                                                    
     get      ... tablet                           TOUCH__unit                 "tablet"      , 0                                                                                     s_equal     TOUCH tablet     :     0x      0y  32000w  32000t           ··         ··     ·      ·x      ·y           
     get      ... screen                           TOUCH__unit                 "screen"      , 0                                                                                     s_equal     TOUCH screen     :     0x      0y   1300w    800t    0.040625x  0.025000y     ·      ·x      ·y           
     get      ... window                           TOUCH__unit                 "window"      , 0                                                                                     s_equal     TOUCH window     :   400x    250y    200w    200t           ··         ··     5      ·x      ·y           

   COND       verify window points                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call point center                    DOT_force_point             0    , 0                                                                                              i_equal     1                                                                                                    
     get      ... point                            DOT__unit                   "reverse"     , 0                                                                                     u_round/1   DOT reverse      :   ·   12308x  14000y     500x    350y       0x      0y      0r      ·d           
     exec     call point upper-left                DOT_force_point             -80  ,  45                                                                                            i_equal     1                                                                                                    
     get      ... point                            DOT__unit                   "reverse"     , 0                                                                                     u_round/1   DOT reverse      :   ·   10338x  12200y     420x    305y     -80x     45y     92r      ·d           
     exec     call point lower-right               DOT_force_point              45  , -80                                                                                            i_equal     1                                                                                                    
     get      ... point                            DOT__unit                   "reverse"     , 0                                                                                     u_round/1   DOT reverse      :   ·   13415x  17200y     545x    430y      45x    -80y     92r      ·d           

   COND       verify miss points                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call point to left                   DOT_force_point             -101 , 0                                                                                              i_equal     0                                                                                                    
     get      ... point                            DOT__unit                   "reverse"     , 0                                                                                     u_round/1   DOT reverse      :   ·    9821x  14000y     398x    350y   -6666x  -6666y  -6666r      ·d           
     exec     call point above                     DOT_force_point                0 , 101                                                                                            i_equal     0                                                                                                    
     get      ... point                            DOT__unit                   "reverse"     , 0                                                                                     u_round/1   DOT reverse      :   ·   12308x   9960y     500x    249y   -6666x  -6666y  -6666r      ·d           
     exec     call point to right                  DOT_force_point              101 , 0                                                                                              i_equal     0                                                                                                    
     get      ... point                            DOT__unit                   "reverse"     , 0                                                                                     u_round/1   DOT reverse      :   ·   14793x  14000y     601x    350y   -6666x  -6666y  -6666r      ·d           
     exec     call point below                     DOT_force_point                0 , -101                                                                                           i_equal     0                                                                                                    
     get      ... point                            DOT__unit                   "reverse"     , 0                                                                                     u_round/1   DOT reverse      :   ·   12308x  18040y     500x    451y   -6666x  -6666y  -6666r      ·d           

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         PROG_unit_end                                                                                                                     i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (DOT) verify basic dot functioning                                 0s   basic           DOT_beg, DOT_end, DOT_add                                                    ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG_unit_quiet                                                                                                                   i_equal     0                                                                                                    

   COND       set up testing environment                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     reset touch                          TOUCH_init                                                                                                                        i_equal     0                                                                                                    
     exec     call force                           TOUCH_force_tablet          0     , 0     , 32000 , 32000                                                                         i_equal     0                                                                                                    
     exec     call force                           TOUCH_force_screen          0     , 0     ,  1300 ,   800                                                                         i_equal     0                                                                                                    
     exec     call force                           TOUCH_force_window          400   , 250   ,   200 ,   200, YGLTEX_MIDCEN                                                          i_equal     0                                                                                                    
     get      ... tablet                           TOUCH__unit                 "tablet"      , 0                                                                                     s_equal     TOUCH tablet     :     0x      0y  32000w  32000t           ··         ··     ·      ·x      ·y           
     get      ... screen                           TOUCH__unit                 "screen"      , 0                                                                                     s_equal     TOUCH screen     :     0x      0y   1300w    800t    0.040625x  0.025000y     ·      ·x      ·y           
     get      ... window                           TOUCH__unit                 "window"      , 0                                                                                     s_equal     TOUCH window     :   400x    250y    200w    200t           ··         ··     5      ·x      ·y           

   COND       attempt to start with a normal point                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call add                             DOT_force_add               0    , 0                                                                                              i_lesser    0                                                                                                    
     get      ... point                            DOT__unit                   "point"       , 0                                                                                     s_equal     DOT point  (  0) :   · ·       ·x      ·y       ·x      ·y       ·x      ·y      ·r      ·d           

   COND       attempt to end without points                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call end                             DOT_force_end               0    , 0                                                                                              i_lesser    0                                                                                                    
     get      ... point                            DOT__unit                   "point"       , 0                                                                                     s_equal     DOT point  (  0) :   · ·       ·x      ·y       ·x      ·y       ·x      ·y      ·r      ·d           

   COND       verify starting trail                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call beg                             DOT_force_beg               0    , 0                                                                                              i_equal     1                                                                                                    
     get      ... point                            DOT__unit                   "point"       , 0                                                                                     u_round/1   DOT point  (  0) :   0 b   12308x  14000y     500x    350y       0x      0y      0r      0d           
     get      ... point                            DOT__unit                   "point"       , 1                                                                                     s_equal     DOT point  (  1) :   · ·       ·x      ·y       ·x      ·y       ·x      ·y      ·r      ·d           

   COND       verify re-starting                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call beg                             DOT_force_beg               5    , 5                                                                                              i_equal     1                                                                                                    
     get      ... point                            DOT__unit                   "point"       , 0                                                                                     u_round/1   DOT point  (  0) :   0 b   ¬¬¬¬¬x  ¬¬¬¬¬y     505x    345y       5x      5y      6r      6d           
     get      ... point                            DOT__unit                   "point"       , 1                                                                                     s_equal     DOT point  (  1) :   · ·       ·x      ·y       ·x      ·y       ·x      ·y      ·r      ·d           

   COND       verify adding a point                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call add                             DOT_force_add               6    , 6                                                                                              i_equal     1                                                                                                    
     get      ... point                            DOT__unit                   "point"       , 0                                                                                     u_round/1   DOT point  (  0) :   0 b   ¬¬¬¬¬x  ¬¬¬¬¬y     505x    345y       5x      5y      6r      6d           
     get      ... point                            DOT__unit                   "point"       , 1                                                                                     u_round/1   DOT point  (  1) :   1 ´   ¬¬¬¬¬x  ¬¬¬¬¬y     506x    344y       6x      6y      7r      1d           
     get      ... point                            DOT__unit                   "point"       , 2                                                                                     s_equal     DOT point  (  2) :   · ·       ·x      ·y       ·x      ·y       ·x      ·y      ·r      ·d           

   COND       verify adding end                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call end                             DOT_force_end               7    , 6                                                                                              i_equal     1                                                                                                    
     get      ... point                            DOT__unit                   "point"       , 0                                                                                     u_round/1   DOT point  (  0) :   0 b   ¬¬¬¬¬x  ¬¬¬¬¬y     505x    345y       5x      5y      6r      6d           
     get      ... point                            DOT__unit                   "point"       , 1                                                                                     u_round/1   DOT point  (  1) :   1 ´   ¬¬¬¬¬x  ¬¬¬¬¬y     506x    344y       6x      6y      7r      1d           
     get      ... point                            DOT__unit                   "point"       , 2                                                                                     u_round/1   DOT point  (  2) :   2 e   ¬¬¬¬¬x  ¬¬¬¬¬y     507x    344y       7x      6y      8r      1d           
     get      ... point                            DOT__unit                   "point"       , 3                                                                                     s_equal     DOT point  (  3) :   · ·       ·x      ·y       ·x      ·y       ·x      ·y      ·r      ·d           

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         PROG_unit_end                                                                                                                     i_equal     0                                                                                                    
